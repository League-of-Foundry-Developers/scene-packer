{"_id":"DMRaZaBX7hr2TNoZ","name":"Show scene performance report","permission":{"default":0,"PeG0c6MgW8W2NzFs":3},"type":"script","flags":{"core":{"sourceId":"Macro.frlsbESCLKNBjrYG"}},"scope":"global","command":"// This macro shows a performance report that details the\n// complexity in a Scene. It can be used as a guide to help\n// determine how a Scene may perform for players.\n\nScenePacker.ShowPerformanceReport();","author":"PeG0c6MgW8W2NzFs","img":"icons/svg/upgrade.svg","actorIds":[]}
{"_id":"IeiuU5QSNgwJygTL","name":"Relink compendium journal entries","permission":{"default":0,"PeG0c6MgW8W2NzFs":3},"type":"script","flags":{"core":{"sourceId":"Macro.1vPAJ3r886Km4CSi"}},"scope":"global","command":"// This macro will let you choose your module and will check\n// each Journal in your module's compendium in an attempt to\n// update the link to the equivalent compendium version.\n//\n// Asks you whether you want to operate in a \"dry run\" mode,\n// where no changes are made. Check the Console for output.\n\nScenePacker.PromptRelinkJournalEntries()","author":"PeG0c6MgW8W2NzFs","img":"icons/svg/book.svg","actorIds":[]}
{"name":"Show Scenes Worth Packing","type":"script","author":"XKmxUPdkcWMuKdfu","img":"icons/svg/eye.svg","scope":"global","command":"// This macro will check your world Scenes to see whether\n// there is any data that would benefit from being Packed.\n\nScenePacker.ShowScenesWorthPacking();","folder":null,"sort":0,"permission":{"default":0,"XKmxUPdkcWMuKdfu":3},"flags":{"core":{"sourceId":"Macro.zo5hb9xMPyiUEqrE"}},"_id":"P3UkVzGKhtwAcpRT"}
{"name":"Show asset report","type":"script","author":"ajyvWN29UcpExc6d","img":"icons/svg/hazard.svg","scope":"global","command":"// This macro shows an asset report that details the assets\n// in this world and whether they have \"external\" dependencies.\n//\n// Use it to help determine whether your packaged module will\n// result in broken assets (images, sounds etc.).\n\nnew ScenePacker.AssetReport();","folder":null,"sort":0,"permission":{"default":0,"ajyvWN29UcpExc6d":3},"flags":{"core":{"sourceId":"Macro.CIKJ4iAmyMvhtptI"}},"_id":"mkNKay70v790Fu4h"}
{"_id":"qIQ9ehnHD47ekm1l","name":"Reset world Scene Packer prompts","type":"script","author":"Rt2brfVFebtCuVnc","img":"icons/svg/hanging-sign.svg","scope":"global","command":"// This macro will prompt you to select your module and then\n// will reset the settings values to allow retriggering of\n// the prompts when you first install a world.\n//\n// These prompts are the \"Yes import all\", \"Let me choose\" etc.\n\nlet content = '';\nlet instances = Object.keys(ScenePacker.instances);\nif (instances.length) {\n  content = '<p>Select the module that you want to reset prompting for:</p>';\n  content += '<select id=\"module-name\">';\n  instances.forEach(m => {\n    content += `<option value=\"${m}\">${m}</option>`;\n  });\n  content += '</select>';\n  content += '<p>Refresh the world after resetting.</p>'\n} else {\n  content = '<p>There are no modules registered with Scene Packer currently available.</p>';\n}\nlet d = new Dialog({\n  title: 'Select instance',\n  content: content,\n  buttons: {\n    relink: {\n      icon: '<i class=\"fas fa-check\"></i>',\n      label: 'Reset',\n      callback: (html) => {\n        let moduleName = html.find('#module-name')[0].value;\n        if (!moduleName) {\n          return;\n        }\n        game.settings.set(moduleName, 'imported', '0.0.0');\n        game.settings.set(moduleName, 'prompted', '0.0.0');\n        game.settings.set(moduleName, 'showWelcomePrompts', true);\n        if (canvas?.scene?.getFlag(moduleName, 'imported')) {\n          canvas.scene.setFlag(moduleName, 'imported', '0.0.0')\n        }\n      },\n    },\n    cancel: {\n      icon: '<i class=\"fas fa-times\"></i>',\n      label: 'Cancel',\n    },\n  },\n});\nd.render(true);","folder":null,"sort":0,"permission":{"default":0,"Rt2brfVFebtCuVnc":3},"flags":{"core":{"sourceId":"Macro.8Ed2EtweXHL8UrPq"},"scene-packer":{"sourceId":"Macro.8Ed2EtweXHL8UrPq"}}}
